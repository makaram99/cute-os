\hypertarget{main_8c}{}\doxysubsection{code/src/main.c File Reference}
\label{main_8c}\index{code/src/main.c@{code/src/main.c}}


Testing cute OS.  


{\ttfamily \#include $<$reg52.\+h$>$}\newline
{\ttfamily \#include \char`\"{}STD\+\_\+\+TYPES.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}BIT\+\_\+\+MATH.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Main.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Port.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}cute\+OS.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}traffic.\+h\char`\"{}}\newline
Include dependency graph for main.\+c\+:
% FIG 0
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{main_8c_a6fa8e7c693565ded0ab5ee29fa5de791}{led1\+\_\+toggle}} (void)
\item 
void \mbox{\hyperlink{main_8c_a47b506b62b06e2e85e62520338abe72e}{led2\+\_\+toggle}} (void)
\item 
void \mbox{\hyperlink{main_8c_af0bbe854fc7f08055c70db5ed01faef9}{led3\+\_\+toggle}} (void)
\item 
void \mbox{\hyperlink{main_8c_a4cad5dd5dd4488af1f611c046b28b517}{motor\+\_\+toggle}} (void)
\item 
void \mbox{\hyperlink{main_8c_a6c976f7ac0ffb00b38efc557b4c019ec}{buzzer\+\_\+toggle}} (void)
\item 
void \mbox{\hyperlink{main_8c_a1997966c7114e418ca8a5cca191d1f88}{Init\+\_\+\+Others}} (void)
\item 
void \mbox{\hyperlink{main_8c_a6288eba0f8e8ad3ab1544ad731eb7667}{main}} (void)
\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
Testing cute OS. 

\begin{DoxyAuthor}{Author}
Mahmoud Karam (\href{mailto:ma.karam272@gmail.com}{\texttt{ ma.\+karam272@gmail.\+com}})
\end{DoxyAuthor}
Traffic light system (Chapter 8 -\/ Embedded C by Professor j. Pont). ~\newline
 See \mbox{\hyperlink{traffic_8c}{traffic.\+c}} for the implementation and sequence of the system. \begin{DoxyVersion}{Version}
1.\+0.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2022-\/03-\/24 
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2022
\end{DoxyCopyright}
Application usage\+:
\begin{DoxyItemize}
\item Run the application.
\item The application will run the traffic light system.
\item The system will run in a loop\+:
\begin{DoxyEnumerate}
\item Red for some seconds, then
\item Red-\/\+Amber for some seconds, then
\item Green for some seconds, then
\item Amberfor some seconds, then
\item Repeat from step 1. The duration of each state is defined in the enum \mbox{\hyperlink{traffic__cfg_8h_aec88567a76515e7a4bc2d300531c6308}{TRAFFIC\+\_\+\+SEQUENCE\+\_\+\+DURATION\+\_\+t}} in \mbox{\hyperlink{traffic__cfg_8h}{traffic\+\_\+cfg.\+h}} file. ~\newline

\end{DoxyEnumerate}
\end{DoxyItemize}

Code explanation\+:
\begin{DoxyEnumerate}
\item Initialize the Cute OS. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{cute_o_s_8h_a538cb1529929abdc516dbc5a23bf41fd}{cuteOS\_Init}}();    }

\end{DoxyCode}

\end{DoxyEnumerate}

Initialize the tasks. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{traffic_8h_aec307edaf66438346ef2f2a23e961ccb}{TRAFFIC\_Init}}();   }

\end{DoxyCode}
 See \mbox{\hyperlink{traffic_8h_aec307edaf66438346ef2f2a23e961ccb}{TRAFFIC\+\_\+\+Init()}} for more details.
\begin{DoxyEnumerate}
\item Create the tasks. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{cute_o_s_8h_a7d3052acc66fae6a67b7cf7ccbf3d8d4}{cuteOS\_TaskCreate}}(task1, 1000); \textcolor{comment}{// task1 will run every 1 second  }}

\end{DoxyCode}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{cute_o_s_8h_a7d3052acc66fae6a67b7cf7ccbf3d8d4}{cuteOS\_TaskCreate}}(task2, 2000); \textcolor{comment}{// task2 will run every 2 seconds }}

\end{DoxyCode}

\end{DoxyEnumerate}

Start the Cute OS scheduler. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{cute_o_s_8h_a90f66f4ffbd452ceb65c8968caada76f}{cuteOS\_Start}}();   }

\end{DoxyCode}
 

Definition in file \mbox{\hyperlink{main_8c_source}{main.\+c}}.



\doxysubsubsection{Function Documentation}
\mbox{\Hypertarget{main_8c_a6c976f7ac0ffb00b38efc557b4c019ec}\label{main_8c_a6c976f7ac0ffb00b38efc557b4c019ec}} 
\index{main.c@{main.c}!buzzer\_toggle@{buzzer\_toggle}}
\index{buzzer\_toggle@{buzzer\_toggle}!main.c@{main.c}}
\doxyparagraph{\texorpdfstring{buzzer\_toggle()}{buzzer\_toggle()}}
{\footnotesize\ttfamily void buzzer\+\_\+toggle (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{main_8c_source_l00063}{63}} of file \mbox{\hyperlink{main_8c_source}{main.\+c}}.

Here is the caller graph for this function\+:
% FIG 1
\mbox{\Hypertarget{main_8c_a1997966c7114e418ca8a5cca191d1f88}\label{main_8c_a1997966c7114e418ca8a5cca191d1f88}} 
\index{main.c@{main.c}!Init\_Others@{Init\_Others}}
\index{Init\_Others@{Init\_Others}!main.c@{main.c}}
\doxyparagraph{\texorpdfstring{Init\_Others()}{Init\_Others()}}
{\footnotesize\ttfamily void Init\+\_\+\+Others (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{main_8c_source_l00067}{67}} of file \mbox{\hyperlink{main_8c_source}{main.\+c}}.

Here is the caller graph for this function\+:
% FIG 2
\mbox{\Hypertarget{main_8c_a6fa8e7c693565ded0ab5ee29fa5de791}\label{main_8c_a6fa8e7c693565ded0ab5ee29fa5de791}} 
\index{main.c@{main.c}!led1\_toggle@{led1\_toggle}}
\index{led1\_toggle@{led1\_toggle}!main.c@{main.c}}
\doxyparagraph{\texorpdfstring{led1\_toggle()}{led1\_toggle()}}
{\footnotesize\ttfamily void led1\+\_\+toggle (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{main_8c_source_l00047}{47}} of file \mbox{\hyperlink{main_8c_source}{main.\+c}}.

Here is the caller graph for this function\+:
% FIG 3
\mbox{\Hypertarget{main_8c_a47b506b62b06e2e85e62520338abe72e}\label{main_8c_a47b506b62b06e2e85e62520338abe72e}} 
\index{main.c@{main.c}!led2\_toggle@{led2\_toggle}}
\index{led2\_toggle@{led2\_toggle}!main.c@{main.c}}
\doxyparagraph{\texorpdfstring{led2\_toggle()}{led2\_toggle()}}
{\footnotesize\ttfamily void led2\+\_\+toggle (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{main_8c_source_l00051}{51}} of file \mbox{\hyperlink{main_8c_source}{main.\+c}}.

Here is the caller graph for this function\+:
% FIG 4
\mbox{\Hypertarget{main_8c_af0bbe854fc7f08055c70db5ed01faef9}\label{main_8c_af0bbe854fc7f08055c70db5ed01faef9}} 
\index{main.c@{main.c}!led3\_toggle@{led3\_toggle}}
\index{led3\_toggle@{led3\_toggle}!main.c@{main.c}}
\doxyparagraph{\texorpdfstring{led3\_toggle()}{led3\_toggle()}}
{\footnotesize\ttfamily void led3\+\_\+toggle (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{main_8c_source_l00055}{55}} of file \mbox{\hyperlink{main_8c_source}{main.\+c}}.

Here is the caller graph for this function\+:
% FIG 5
\mbox{\Hypertarget{main_8c_a6288eba0f8e8ad3ab1544ad731eb7667}\label{main_8c_a6288eba0f8e8ad3ab1544ad731eb7667}} 
\index{main.c@{main.c}!main@{main}}
\index{main@{main}!main.c@{main.c}}
\doxyparagraph{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily void main (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

$<$ Initialize Cute OS ~\newline


$<$ Initialize the traffic light system ~\newline


$<$ Initialize other peripherals ~\newline


$<$ Create the tasks

$<$ Create a task to run the traffic light system

$<$ Create a task to toggle the first LED

$<$ Create a task to toggle the second LED

$<$ Create a task to toggle the third LED

$<$ Create a task to toggle the buzzer

$<$ Create a task to toggle the motor

$<$ Remove the task to toggle the buzzer

$<$ Start the Cute OS scheduler ~\newline


$<$ The scheduler will never return from here

Definition at line \mbox{\hyperlink{main_8c_source_l00083}{83}} of file \mbox{\hyperlink{main_8c_source}{main.\+c}}.

Here is the call graph for this function\+:
% FIG 6
\mbox{\Hypertarget{main_8c_a4cad5dd5dd4488af1f611c046b28b517}\label{main_8c_a4cad5dd5dd4488af1f611c046b28b517}} 
\index{main.c@{main.c}!motor\_toggle@{motor\_toggle}}
\index{motor\_toggle@{motor\_toggle}!main.c@{main.c}}
\doxyparagraph{\texorpdfstring{motor\_toggle()}{motor\_toggle()}}
{\footnotesize\ttfamily void motor\+\_\+toggle (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{main_8c_source_l00059}{59}} of file \mbox{\hyperlink{main_8c_source}{main.\+c}}.

Here is the caller graph for this function\+:
% FIG 7
